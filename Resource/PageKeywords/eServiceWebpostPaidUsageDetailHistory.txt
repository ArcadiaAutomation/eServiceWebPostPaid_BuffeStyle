*** Settings ***
Resource          eServiceWebPostPaidCommon.txt
Resource          eServiceWebPostPaidLogin.txt
Resource          ../PageRepository/eServiceWebpostPaidUsageDetailHistoryRepository.txt
Resource          ../Localized/${ar_LANG}/eServiceWebpostPaidUsageDetailHistoryMessage.txt
Resource          ../PageVariable/eServiceWebpostPaidUsageDetailHistoryVariable.txt

*** Keywords ***
Input Citizen ID
    [Arguments]    ${Text}
    Input Web Text    ${txtCitizenId}    ${Text}

Verify login Citizen ID
    [Arguments]    ${locator}    ${Text}
    Selenium2Library.Wait Until Page Contains Element    ${locator}
    Element Text Should Be    ${locator}    ${Text}

Confirm Citizen ID
    Wait Web Until Page Contains Element    ${btnConfirmCitizenId}
    Click Web Element    ${btnConfirmCitizenId}

Select Bill Cycle
    Click Web Element    ${rdbBillCycle}

Clear View All Call Filter
    Click Web Element    ${chkVoiceCall}

Confirm Filter Usage Detail
    Click Web Element    ${btnConfirmFilterUsageDetail}

Clear View All InternetAndValueAdd Filter
    Click Web Element    ${chkViewAllInternetAndValueAdd}

Select Usage Detail Tab
    [Arguments]    ${TabName}
    Click Web Element    ${tb${TabName}}

Select Billing Cycle From Previous Month
    [Arguments]    ${previousMonthNumber}
    ${index}=    Evaluate    ${previousMonthNumber}-1
    Comment    Log To Console    hello=${index}
    Click Web Element    xpath=//*[@id="rdoCdrInvoice${index}"]

Select View Internet Condition
    Click Web Element    ${chkInternet}

Verify Usage Detail History Page
    Web Element Should Be Visible    ${lblCurrentChargeDetail}
    Web Element Should Be Visible    ${lblCurrentChargesAmount}
    Web Element Should Be Visible    ${lblOutStandingBalanceAmount}
    Web Element Should Be Visible    ${tbAllViewTypeAndCondition}

Print Usage Detail History
    [Arguments]    ${printType}
    Click Web Element    ${btnPrint}
    Run Keyword If    '${printType}'==2    Click Web Element    ${btnPrintAllDetail}
    ...    ELSE    Click Web Element    ${btnPrintSpecificDetail}
    Click Web Element    ${btnConfirmPrint}

Verify Usage Detail History PDF
    Select Window    url=https://eservice.ais.co.th/exportPDF
    Element Should Be Visible    ${FormPDF}

Select View Call Condition
    Click Web Element    ${chkCallViewByUsageDate}

Select View Internet And Value Added Service By Condition
    [Arguments]    ${ConditionNumber}
    ${Number}    Evaluate    ${ConditionNumber}-1
    Click Web Element    xpath=//*[@id="chkCdrVas${Number}"]

Verify Internet And Value Added Service Page
    Web Element Should Be Visible    ${tbAllViewDetail}
    Comment    Web Element Should Be Visible    ${tbValueAddedService}
    Comment    Web Element Should Be Visible    ${tbInternet}

Select View Graph Top 5 By Condition
    [Arguments]    ${menuIndex}
    ${Index}=    Evaluate    ${menuIndex}-1
    Click Web Element    xpath=//*[@id="chkCdrGraph${index}"]
