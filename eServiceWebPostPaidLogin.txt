*** Settings ***
Resource          Resource/PageKeywords/eServiceWebPostPaidLogin.txt
Resource          Resource/Localized/${ar_LANG}/eServiceWebPostPaidLoginMessage.txt
Resource          ../LocalConfig.txt
Resource          Resource/MobileKeywords/CommonMobileKeywords/SmsGenericKeywords.txt

*** Test Cases ***
test
    [Tags]    test
    Open SMS App    ${lo_RUN_3PO_1_IPAppium}    ${lo_RUN_3PO_1_Platfrom_Name}    ${lo_RUN_3PO_1_Platfrom_Version}    ${lo_RUN_3PO_1}
    Wait SMS    ${lo_RUN_3PO_1_Platfrom_Name}    1    60

[F01-001]eServiceWeb-PO-Login-NumberNotComplete
    Open Browser    ${eServiceURL}    ${ar_BROWSER}
    Maximize Browser Window
    Select Frame    ${fraMainIframe}
    Click Web Element    ${btnLanguage}
    Input Web Text    ${txtMobileNumber}    090546798
    Click Web Element    ${btnGetOTP}
    Element Text Should Be    ${lblDialogMessage}    ${ERROR_MessageNumberNotComplete}
    Click Web Element    ${btnDialogClose}
    Close Browser

[F01-002]eServiceWeb-PO-Login-NumberDtac
    Open Browser    ${eServiceURL}    ${ar_BROWSER}
    Maximize Browser Window
    Select Frame    ${fraMainIframe}
    Click Web Element    ${btnLanguage}
    Input Web Text    ${txtMobileNumber}    0944835961
    Click Web Element    ${btnGetOTP}
    Wait Web Until Page Contains Element    ${ttMessage}
    Element Text Should Be    ${ttMessage}    ${ERROR_MessageNumberDtac}
    Close Browser

[F01-003]eServiceWeb-PO-Login-OtpNotcomplete
    Open Browser    ${eServiceURL}    ${ar_BROWSER}
    Maximize Browser Window
    Select Frame    ${fraMainIframe}
    Click Web Element    ${btnLanguage}
    Input Web Text    ${txtMobileNumber}    ${lo_RUN_3PO_1_Number}
    Click Web Element    ${btnGetOTP}
    Sleep    2
    Input Web Text    ${txtInputOTP}    123
    Element Should Not Be Visible    ${btnLoginConfirm}
    Close Browser

[F01-006]eServiceWeb-PO-Login-InputOtpWithCharacter
    Open Browser    ${eServiceURL}    ${ar_BROWSER}
    Maximize Browser Window
    Select Frame    ${fraMainIframe}
    Click Web Element    ${btnLanguage}
    Input Web Text    ${txtMobileNumber}    ${lo_RUN_3PO_1_Number}
    Click Web Element    ${btnGetOTP}
    Sleep    2
    Input Web Text    ${txtInputOTP}    a
    Element Text Should Be    ${lblDialogMessage}    ${ERROR_MessageInputOtpWithCharacter}
    Click Web Element    ${btnDialogClose}
    Close Browser

[F01-004]eServiceWeb-PO-Login-InputWrongOtp
    Open Browser    ${eServiceURL}    ${ar_BROWSER}
    Maximize Browser Window
    Select Frame    ${fraMainIframe}
    Select Language    ${btnLanguage}
    Input Web Text    ${txtMobileNumber}    ${lo_RUN_3PO_1_Number}
    Click Web Element    ${btnGetOTP}
    ${SMSOTP}    GetSMSfromMood    AIS    ${lo_RUN_3PO_1_IPAppium}    1    ${lo_RUN_3PO_1}
    ${OTP}    GetOTPinSMS    ${SMSOTP}
    ${fakeOTP}    fakeOTP    ${OTP}
    Input Web Text    ${txtInputOTP}    ${fakeOTP}
    Click Web Element    ${btnOKOTP}
    sleep    2
    Element Should Be Visible    ${WrongOTP}
    Close Browser

[F01-005]eServiceWeb-PO-Login-NotInputOtp
    Open Browser    ${eServiceURL}    ${ar_BROWSER}
    Maximize Browser Window
    Select Frame    ${fraMainIframe}
    Click Web Element    ${btnLanguage}
    Input Web Text    ${txtMobileNumber}    ${lo_RUN_3PO_1_Number}
    Click Web Element    ${btnGetOTP}
    Sleep    2
    Element Should Not Be Visible    ${btnLoginConfirm}
    Close Browser

[F01-007]eServiceWeb-PO-Login-CancelOtp
    Open Browser    ${eServiceURL}    ${ar_BROWSER}
    Maximize Browser Window
    Select Frame    ${fraMainIframe}
    Click Web Element    ${btnLanguage}
    Input Web Text    ${txtMobileNumber}    ${lo_RUN_3PO_1_Number}
    Click Web Element    ${btnGetOTP}
    Sleep    2
    Click Web Element    ${btnCancelOtp}
    Element Text Should Be    ${txtMobileNumber}    ${EMPTY}
    Close Browser
